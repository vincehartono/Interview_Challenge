# Interview_Challenge

## Part 1 (EDA)

I was given a task to clean up and do Exploratory Data Analysis from a file named logins.json. The file consists of login timestamp with 93,142 rows of data.

The login time ranges from January 1st, 1970 to April 13, 1970. I was stasked to group these login times by 15-minutes interval.

First step I did is to check if there is any missing values in the data and check the types of the input. There are no missing values and the input is in datetime64 data type.

Since it consists of 103 days and there are 96 15-minutes interval per day, it is hard to visualize the data to determine if there is any patterns thus I group it by 3 different groups.

### Group by Date
By grouping the data by date, a trend shows up every 7 bars thus there must be a trend by day of week. 

### Group by Day of Week
By grouping the data by day of week, I can see that weekend (Friday, Saturday, Sunday) have more logins compared to weekdays.

### Group by Hour
By grouping the data by hour, it seems another pattern emerges. I can see that there are more logins during the night starting at 20:00 until 5:00. There is also another high number of logins during noon (11:00 to 12:00)


## Part 2 (Experiment and Metrics Design)

I was given a task to design an experiement to track how efficient toll costs reimbursement in encouraging drivers from Gotham and Metropolis not to be exclusing in hailing passengers just in their respected city.

The goal for any program in a company is always to maximize profit. With this program, Ultimate needs to add toll reimbursement budget to their expenses. To recoup that, they need to increase the ridership so that they are able to get more income from fees generated by ridership. If the cost of reimbursing is lower than the generated income, this program can be deemed successful. Thus, the metric that I will be tracking for this program is net profit which in the case can be simplied to fees minus reimbursed cost.

In order to achieve the metric stated above, the key measures of success that I would like to track for this experiment are:
1. The number of toll reimbursements - This metric will calculate the total costs that Ultimate needs to pay as additional expenses to see if is justified with the additional fees they received from more trips
2. The number of drivers that hail passengers in the city the are not originated from and the number of trips per day they do - These metrics will track the efficiency of the program and answer the question of will enough drivers match the demands of both cities.

The rollout of the program can be gradual in example, selected drivers with criterias such as high wait times in one city. With no toll costs, we want to see if they are willing to drive to another city to hail passengers. This group can be classified as treatment group while other drivers can be classified as control group. A simple A/B testing can be conducted with the 2 groups and see if the program is effective to reduce their wait time. With reduced wait time, these drivers are able to get more passengers which turn to more income for Ultimate.

To measure the A/B testing, we can use the t-test to test for signifance (alpha = 0.05) between the control and treatment group. Our hypothesis can be that more drivers will work in both cities given the toll cost is reimbursed. In order for the test to have statistical significant, we need to have a large dataset thus I recommend testing the program at least for 6 months.

After the test ended, the results can be:
1. Net profit < 0. The reason might be not many drivers get orders from the city they traveled to but incurred reimbursement to Ultimate. The program should not be continued.
2. Net profit = 0. The additional income from fees that Ultimate generated can cover the reimbursement costs. Even though financially it does not makes sense financially, the program should be continued to have more flexibility in the number of drivers available in both cities.
3. Net profit > 0. The program successfully increase the profit to the company as well as covering the demands for passengers in both cities.

## Part 3 (Predictive Modeling)

In this part, I was given a dataset of users (in this case drivers) of Ultimate and was tasked to predict their user retention. The attached file ultimate_data_challenge consists of 12 columns with 50,000 rows of data.

### Data Cleaning

There are some null input on 3 columns:
- avg_rating_of_driver: replaced the null with avg_rating_of_driver by number of trips in the first 30 days
- phone: replace the null with 'Others'
- avg_rating_by_driver: replaced the null with avg_rating_by_driver by number of trips in the first 30 days

### Exploratory Data Analysis

- 37.6% of the users are retained
- Winterfell has the most trips
- Most of the users are using iPhone

### Predictive Modeling

1. KNeighbors
- 75.95% accuracy using best parameters by Grid Search Cross Validation method
- Most important features by order of importance: weekday_pct, surge_pct, and avg_rating_by_driver

2. Random Forests
- 77.99% accuracy using best parameters by Randomized Search Cross Validation method
- Most important features by order of importance: avg_rating_by_driver, weekday_pct, and surge_pct

### Conclusion

We see that using both KNeighbors and Random Forests, the 3 most important features to retain users are
- weekday_pct
- avg_rating_by_driver
- surge_pct
This means that the drivers that stay with Ultimate are the drivers that:
1. mostly work on weekdays - working at Ultimate as their main source of income
2. work during surge - generating the highest income to distance ratio
3. have passengers with high ratings - having nice passengers when they are working
In order to have long-term rider retention, Ultimate needs to focus these 3 things. They can create incentive for hailing passengers more than certain hours per week or make the surge more frequent. Also, they can filter out passengers with low ratings.
